<!doctype html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
  <script src="ngModelOptionsOnInvalid.js"></script>
  <script>
    angular.module('app', ['NgModelOptionsOnInvalid']);
  </script>
</head>

<body ng-app="app">
  <h1>
    Angular ng-model-options on $invalid
  </h1>

  <p>
    The ng-model-options will be reset to the passed object when the form control transitions to an $invalid state. This is useful for switching from lazy to greedy validation to give the user instant feedback after they have initially made a mistake.
  </p>

  <form name="registerForm">
    <input
      type="email"
      name="email"
      ng-model="register.email"
      ng-model-options="{updateOn: 'blur'}"
      ng-model-options-on-invalid="{updateOn: 'default'}">

    <h2>
      Email
    </h2>

    <pre ng-bind="register.email | json"></pre>

    <h2>
      Form
    </h2>

    <pre ng-bind="registerForm | json"></pre>
  </form>
</body>

</html>
